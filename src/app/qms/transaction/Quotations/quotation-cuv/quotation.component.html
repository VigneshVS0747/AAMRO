<div class="table-list-display">
    <div class="component-creation">
        <div class="header-container">
            <h3 class="box-title">
                <img src="./assets/images/billing-storage.png" alt="Job Type" />
                <span>Quotation</span>
            </h3>

            <button class="btn btn-primary returntolistbtn" type="button" routerLink="/qms/transaction/Quotelist">
                <i class="fa fa-list me-2"></i> Return to List
            </button>
        </div>

        <hr class="mt-0 mb-4" />

        <mat-card>
            <mat-card-title class="title cus-title">
                <!-- //{{titile}} -->
            </mat-card-title>
            <br />
            <div class="cus-tab-group hideOverflow">
                <mat-tab-group animationDuration="0ms" [(selectedIndex)]="selectedIndex" #matgroup>

                    <mat-tab>
                        <ng-template mat-tab-label>
                            <i class="fas fa-house"></i>
                            General
                        </ng-template>
                        <div class="table-list-display">
                            <div class="component-creation">
                                <div class="header-container">


                                </div>

                                <!-- <hr class="mt-0 mb-4" /> -->

                                <mat-card>
                                    <mat-card-title class="title">
                                        <!-- {{titile}} -->
                                    </mat-card-title>
                                    <br />

                                    <mat-card-content>
                                        <form [formGroup]="Quotation">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolorGray">Quotation Number</mat-label>
                                                        <input matInput type="text" formControlName="quotationNumber"
                                                            placeholder="Quotation Number" />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label class="labelcolor">Quotation Date</mat-label>
                                                        <input matInput [matDatepicker]="QuotationDateDatePicker"
                                                            formControlName="quotationDate" [readonly]="disablefields"
                                                            [matDatepickerFilter]="dateFilter1">
                                                        <mat-datepicker-toggle matSuffix [readonly]="disablefields"
                                                            [for]="QuotationDateDatePicker"></mat-datepicker-toggle>
                                                        <mat-datepicker #QuotationDateDatePicker></mat-datepicker>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['quotationDate'].touched &&
                                                        Quotation.hasError('required', 'quotationDate')
                                    " class="text-danger">Quotation Date is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Customer Category</mat-label>
                                                        <input matInput formControlName="customerCategoryId"
                                                            [matAutocomplete]="customerCategory"
                                                            [readonly]="disablefields" />
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #customerCategory="matAutocomplete"
                                                            [displayWith]="displayCustomerCategoryFn"
                                                            (optionSelected)="onCustomerCategorySelected($event)">
                                                            <mat-option
                                                                *ngFor="let Ccat of filteredCustomerCategoryOptions | async"
                                                                [value]="Ccat">
                                                                {{Ccat.customerCategory }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['customerCategoryId'].touched &&
                                                        Quotation.hasError('required', 'customerCategoryId')
                                    " class="text-danger">Customer Category is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">

                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Customer Name</mat-label>
                                                        <input matInput formControlName="customerId"
                                                            [matAutocomplete]="customerName"
                                                            [readonly]="disablefields" />
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #customerName="matAutocomplete"
                                                            [displayWith]="displayCustomerFn"
                                                            (optionSelected)="onCustomerSelected($event)">
                                                            <mat-option
                                                                *ngFor="let customer of filteredCustomerOptions | async"
                                                                [value]="customer">
                                                                {{ customer.name }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['customerId'].touched &&
                                                        Quotation.hasError('required', 'customerId')
                                    " class="text-danger">Customer Name is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Quotation Against</mat-label>
                                                        <input type="text" matInput formControlName="quotationAgainstId"
                                                            [matAutocomplete]="auto" [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #auto="matAutocomplete"
                                                            [displayWith]="displayFn"
                                                            (optionSelected)="onOptionSelected($event)">
                                                            <mat-option *ngFor="let option of filteredOptions | async"
                                                                [value]="option">
                                                                {{ option.qAgainst }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['quotationAgainstId'].touched &&
                                                        Quotation.hasError('required', 'quotationAgainstId')
                                    " class="text-danger">Quotation Against is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Enquiry Number</mat-label>
                                                        <input type="text" matInput formControlName="refNumberId"
                                                            [matAutocomplete]="refNumberIdauto"
                                                            [readonly]="disablefields">
                                                        <mat-autocomplete #refNumberIdauto="matAutocomplete"
                                                            [displayWith]="displayRefNumberFn"
                                                            (optionSelected)="onRefNumberSelected($event)">
                                                            <mat-option
                                                                *ngFor="let EnquiryList of filteredRefNumberOptions | async"
                                                                [value]="EnquiryList">
                                                                {{ EnquiryList.enquiryNumber }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['refNumberId'].touched &&
                                                        Quotation.hasError('required', 'refNumberId')
                                    " class="text-danger">Enquiry Number is required*</mat-error>
                                                    </mat-form-field>
                                                </div>

                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">
                                                            Customer Address
                                                        </mat-label>
                                                        <input matInput formControlName="customerAddressId"
                                                            [matAutocomplete]="address" [readonly]="disablefields" />
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #address="matAutocomplete"
                                                            [displayWith]="displayCustomerAddressFn"
                                                            (optionSelected)="onCustomerAddressSelected($event)">
                                                            <mat-option
                                                                *ngFor="let address of filteredCustomerAddressOptions | async"
                                                                [value]="address">
                                                                {{ address.name }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['customerAddressId'].touched &&
                                                        Quotation.hasError('required', 'customerAddressId')
                                    " class="text-danger">Customer Address is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Contact
                                                            Person</mat-label>
                                                        <mat-select [multiple]="true" [readonly]="disablefields"
                                                            (selectionChange)="onSelectcontact()"
                                                            formControlName="customerContactId">
                                                            <mat-option *ngFor="let row of ContactDropDown"
                                                                [disabled]="disablefields"
                                                                [value]="row.Id">{{row.name}}</mat-option>
                                                        </mat-select>
                                                        <mat-error
                                                            *ngIf="Quotation.controls['customerContactId'].touched && Quotation.hasError('required','customerContactId')"
                                                            class="text-danger">Contact Person is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Customer Billing Currency
                                                        </mat-label>
                                                        <input matInput formControlName="billCurrencyId"
                                                            [matAutocomplete]="autobillingcurrency" required
                                                            [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #autobillingcurrency="matAutocomplete"
                                                            [displayWith]="displayBillCurrencyListLabelFn"
                                                            (optionSelected)="billCurrencyListSelectedoption($event)">
                                                            <mat-option
                                                                *ngFor="let billingCurrencyList of filteredbillingCurrencyListOptions$ | async"
                                                                [value]="billingCurrencyList"
                                                                [disabled]="billingCurrencyList.isNotFound">
                                                                {{ billingCurrencyList.currencyName}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['billCurrencyId'].touched &&
                                                        Quotation.hasError('required', 'billCurrencyId')
                                    " class="text-danger">Customer Billing Currency is required*</mat-error>
                                                    </mat-form-field>

                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Exchange Rate</mat-label>
                                                        <input matInput type="text" formControlName="exchangeRate"
                                                            placeholder="ExchangeRate" readonly="true" />
                                                        <mat-error *ngIf="
                                                            Quotation.controls['exchangeRate'].touched &&
                                                            Quotation.hasError('required', 'exchangeRate')
                                        " class="text-danger">Exchange Rate is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Sales Owner</mat-label>
                                                        <input matInput formControlName="salesOwnerId"
                                                            [matAutocomplete]="salesOwner" [readonly]="disablefields" />
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #salesOwner="matAutocomplete"
                                                            [displayWith]="displaySalesOwnerFn"
                                                            (optionSelected)="onSalesOwnerSelected($event)">
                                                            <mat-option
                                                                *ngFor="let owner of filteredSalesOwnerOptions | async"
                                                                [value]="owner">
                                                                {{ owner.employeeName }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['salesOwnerId'].touched &&
                                                        Quotation.hasError('required', 'salesOwnerId')
                                    " class="text-danger">Sales Owner is required*</mat-error>
                                                    </mat-form-field>
                                                </div>

                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Sales Executive</mat-label>
                                                        <input matInput formControlName="salesExecutiveId"
                                                            [matAutocomplete]="salesExecutiveId"
                                                            [readonly]="disablefields" />
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #salesExecutiveId="matAutocomplete"
                                                            [displayWith]="displaySalesExecutiveFn"
                                                            (optionSelected)="onSalesExecutiveSelected($event)">
                                                            <mat-option
                                                                *ngFor="let owner of filteredSalesExecutiveOptions | async"
                                                                [value]="owner">
                                                                {{ owner.employeeName }}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['salesExecutiveId'].touched &&
                                                        Quotation.hasError('required', 'salesExecutiveId')
                                    " class="text-danger">Sales Executive is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label class="labelcolor">Quotation Valid Until</mat-label>
                                                        <input matInput [matDatepicker]="QuotationvalidDateDatePicker"
                                                            [min]="minQuoteValidToDate" formControlName="quoteValidTo"
                                                            [matDatepickerFilter]="dateFilter"
                                                            [readonly]="disablefields">
                                                        <mat-datepicker-toggle matSuffix [readonly]="disablefields"
                                                            [for]="QuotationvalidDateDatePicker"></mat-datepicker-toggle>
                                                        <mat-datepicker #QuotationvalidDateDatePicker></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Quote Status </mat-label>
                                                        <input matInput formControlName="quoteStatusId"
                                                            [matAutocomplete]="quoteStatusId"
                                                            [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #quoteStatusId="matAutocomplete"
                                                            [displayWith]="displayQuoteStatusListLabelFn"
                                                            (optionSelected)="quoteStatusSelectedOption($event)">
                                                            <mat-option
                                                                *ngFor="let quoteStatusList of filteredQuoteStatusOptions$ | async"
                                                                [value]="quoteStatusList"
                                                                [disabled]="statusDisableOption(quoteStatusList)">
                                                                {{ quoteStatusList.qStatus}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['quoteStatusId'].touched &&
                                                        Quotation.hasError('required', 'quoteStatusId')
                                    " class="text-danger">Quote Status is required*</mat-error>
                                                    </mat-form-field>

                                                </div>
                                                <div class="col-md-4" *ngIf="hidden">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Closed Reason </mat-label>
                                                        <input matInput formControlName="closedReasonId"
                                                            [matAutocomplete]="autoreason" [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #autoreason="matAutocomplete"
                                                            [displayWith]="displayreasonListLabelFn"
                                                            (optionSelected)="reasonSelectedoption($event)">
                                                            <mat-option
                                                                *ngFor="let reasonList of filteredreasonOptions$ | async"
                                                                [value]="reasonList" [disabled]="reasonList.isNotFound">
                                                                {{ reasonList.reasonName}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['closedReasonId'].touched &&
                                                        Quotation.hasError('required', 'closedReasonId')
                                    " class="text-danger">Closed Reason is required*</mat-error>
                                                    </mat-form-field>

                                                </div>
                                                <div class="col-md-4" *ngIf="hidden">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Closed Remarks</mat-label>
                                                        <textarea matInput cols="8" rows="2" [readonly]="disablefields"
                                                            placeholder="Closed Remarks" maxlength="500"
                                                            formControlName="closedRemarks"></textarea>
                                                        <mat-error *ngIf="
                                                            Quotation.controls['closedRemarks'].touched &&
                                                            Quotation.hasError('required', 'closedRemarks')
                                        " class="text-danger">Closed Remarks is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Quote Approval Status </mat-label>
                                                        <input matInput formControlName="approvalStatusId"
                                                            [matAutocomplete]="approvalStatusId"
                                                            [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #approvalStatusId="matAutocomplete"
                                                            [displayWith]="displayApprovalStatusListLabelFn"
                                                            (optionSelected)="approvalStatusSelectedOption($event)">
                                                            <mat-option
                                                                *ngFor="let approvalStatusList of filteredApprovalStatusOptions$ | async"
                                                                [value]="approvalStatusList"
                                                                [disabled]="approvalStatusList.isNotFound">
                                                                {{ approvalStatusList.approvalStatus}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['approvalStatusId'].touched &&
                                                        Quotation.hasError('required', 'approvalStatusId')
                                    " class="text-danger">Quote Approval Status is required*</mat-error>
                                                    </mat-form-field>

                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Client Response </mat-label>
                                                        <input matInput formControlName="clientResponseId"
                                                            [matAutocomplete]="clientResponseId"
                                                            [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #clientResponseId="matAutocomplete"
                                                            [displayWith]="displayClientResponseListLabelFn"
                                                            (optionSelected)="clientResponseSelectedOption($event)">
                                                            <mat-option
                                                                *ngFor="let clientResponseList of filteredClientResponseOptions$ | async"
                                                                [value]="clientResponseList"
                                                                [disabled]="clientResponseList.isNotFound">
                                                                {{ clientResponseList.qcrStatus}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['clientResponseId'].touched &&
                                                        Quotation.hasError('required', 'clientResponseId')
                                    " class="text-danger">Client Response is required*</mat-error>
                                                    </mat-form-field>

                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Information Source </mat-label>
                                                        <input matInput formControlName="informationSourceId"
                                                            [matAutocomplete]="autoInfo" [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #autoInfo="matAutocomplete"
                                                            [displayWith]="displayinfosourceListLabelFn"
                                                            (optionSelected)="infosourceSelectedoption($event)">
                                                            <mat-option
                                                                *ngFor="let infosourceList of filteredinfosourceOptions$ | async"
                                                                [value]="infosourceList"
                                                                [disabled]="infosourceList.isNotFound">
                                                                {{ infosourceList.informationSourceName}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['informationSourceId'].touched &&
                                                        Quotation.hasError('required', 'informationSourceId')
                                    " class="text-danger">Information Source is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4" *ngIf="reference">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Reference Details</mat-label>
                                                        <input matInput type="text" maxlength="100"
                                                            formControlName="referenceDetails"
                                                            [readonly]="disablefields" placeholder="Reference Details"
                                                            autocomplete="off">
                                                        <mat-error *ngIf="
                                                            Quotation.controls['referenceDetails'].touched &&
                                                            Quotation.hasError('required', 'referenceDetails')
                                        " class="text-danger">Reference Details is required*</mat-error>

                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Quote Display Type </mat-label>
                                                        <input matInput formControlName="quoteDisplayTypeId"
                                                            [matAutocomplete]="autoQuote" [readonly]="disablefields">
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #autoQuote="matAutocomplete"
                                                            [displayWith]="displayQuoteLabelFn"
                                                            (optionSelected)="QuoteSelectoption($event)">
                                                            <mat-option
                                                                *ngFor="let displaytype of filteredQuoteDisplayOptions$ | async"
                                                                [value]="displaytype"
                                                                [disabled]="displaytype.isNotFound">
                                                                {{ displaytype.lineItemDisplay}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        Quotation.controls['quoteDisplayTypeId'].touched &&
                                                        Quotation.hasError('required', 'quoteDisplayTypeId')
                                    " class="text-danger">Quote Display Type is required*</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-8">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Remarks</mat-label>
                                                        <textarea matInput type="text" maxlength="500" [readonly]="disablefields" formControlName="remarks"
                                                            placeholder="Remarks"></textarea>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-8">
                                                    <mat-form-field>
                                                        <mat-label class="labelcolor">Tags</mat-label>
                                                        <textarea matInput type="text" maxlength="500" [readonly]="disablefields" formControlName="tags"
                                                            placeholder="Tags"></textarea>
                                                    </mat-form-field>
                                                </div>
                                            </div>

                                        </form>
                                    </mat-card-content>
                                </mat-card>
                            </div>
                        </div>
                        <div class="m-4 mb-5 d-flex justify-content-end" style="bottom: 115px">

                        </div>

                    </mat-tab>

                    <mat-tab class="my-2">
                        <ng-template mat-tab-label>
                            <i class="fas fa-headset"></i>
                            Service Details
                        </ng-template>

                        <div class="table-list-display">
                            <div class="component-creation">
                                <div class="header-container">
                                    <form [formGroup]="Quotation" class="mt-3">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Job Category</mat-label>
                                                    <input matInput formControlName="jobCategoryId"
                                                        [matAutocomplete]="autojob" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-error *ngIf="
                                                    Quotation.controls['jobCategoryId'].touched &&
                                                    Quotation.hasError('required', 'jobCategoryId')
                                " class="text-danger">Job Category is required*</mat-error>
                                                </mat-form-field>
                                                <mat-autocomplete #autojob="matAutocomplete"
                                                    [displayWith]="displayjobCategoryLabelFn"
                                                    (optionSelected)="jobCategorySelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let jobCategoryList of filteredjobCategoryOptions$ | async"
                                                        [value]="jobCategoryList"
                                                        [disabled]="jobCategoryList.isNotFound">
                                                        {{ jobCategoryList.jobCategory}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Job Type</mat-label>
                                                    <input matInput formControlName="jobTypeId"
                                                        [matAutocomplete]="autojobType" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-error *ngIf="
                                                    Quotation.controls['jobTypeId'].touched &&
                                                    Quotation.hasError('required', 'jobTypeId')
                                " class="text-danger">Job Type is required*</mat-error>
                                                </mat-form-field>
                                                <mat-autocomplete #autojobType="matAutocomplete"
                                                    [displayWith]="displayjobTypeLabelFn"
                                                    (optionSelected)="jobTypeSelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let jobTypeList of filteredjobTypeOptions$ | async"
                                                        [value]="jobTypeList" [disabled]="jobTypeList.isNotFound">
                                                        {{ jobTypeList.jobTypeName}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Commodity</mat-label>
                                                    <mat-select formControlName="commodityId" [multiple]="true"
                                                        [readonly]="disablefields"
                                                        (selectionChange)="onSelectCommodity()">
                                                        <mat-option *ngFor="let Commodity of CommodityList"
                                                            [disabled]="disablefields" [value]="Commodity.commodityId">
                                                            {{ Commodity.commodityName }}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Inco Term</mat-label>
                                                    <mat-select formControlName="incoTermId" [multiple]="true"
                                                        [readonly]="disablefields" (selectionChange)="onSelectInco()">
                                                        <mat-option *ngFor="let incoterm of incotermList"
                                                            [disabled]="disablefields" [value]="incoterm.incoTermId">
                                                            {{ incoterm.incoTermDescription }}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Mode of Transport</mat-label>
                                                    <mat-select formControlName="modeofTransportId" [multiple]="true"
                                                        [readonly]="disablefields"
                                                        (selectionChange)="onSelectTransport()">
                                                        <mat-option *ngFor="let modeofTransport of modeofTransportList"
                                                            [disabled]="disablefields"
                                                            [value]="modeofTransport.modeofTransportId">
                                                            {{ modeofTransport.modeofTransport }}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Cargo Type</mat-label>
                                                    <input matInput formControlName="cargoTypeId"
                                                        [matAutocomplete]="autocargoType" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-autocomplete #autocargoType="matAutocomplete"
                                                        [displayWith]="displayCargoLabelFn"
                                                        (optionSelected)="CargoSelectedoption($event)">
                                                        <mat-option
                                                            *ngFor="let cargoList of filteredCargoOptions$ | async"
                                                            [value]="cargoList" [disabled]="cargoList.isNotFound">
                                                            {{ cargoList.cargoType }}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </mat-form-field>

                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Origin Country</mat-label>
                                                    <input matInput formControlName="originCountryId"
                                                        [matAutocomplete]="autoCountry" required
                                                        [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-error *ngIf="
                                                    Quotation.controls['originCountryId'].touched &&
                                                    Quotation.hasError('required', 'originCountryId')
                                " class="text-danger">Origin Country is required*</mat-error>
                                                </mat-form-field>
                                                <mat-autocomplete #autoCountry="matAutocomplete"
                                                    [displayWith]="displayCountryLabelFn"
                                                    (optionSelected)="CountrySelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let CountryDatalist of filteredCountryOptions$ | async"
                                                        [value]="CountryDatalist"
                                                        [disabled]="CountryDatalist.isNotFound">
                                                        {{ CountryDatalist.countryName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>

                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Destination Country</mat-label>
                                                    <input matInput formControlName="destCountryId"
                                                        [matAutocomplete]="autodestCountryId" required
                                                        [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-error *ngIf="
                                                    Quotation.controls['destCountryId'].touched &&
                                                    Quotation.hasError('required', 'destCountryId')
                                " class="text-danger">Destination Country is required*</mat-error>
                                                </mat-form-field>
                                                <mat-autocomplete #autodestCountryId="matAutocomplete"
                                                    [displayWith]="displayDestCountryLabelFn"
                                                    (optionSelected)="DestCountrySelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let CountryDatalist of filteredCountryOptionsDest$ | async"
                                                        [value]="CountryDatalist"
                                                        [disabled]="CountryDatalist.isNotFound">
                                                        {{ CountryDatalist.countryName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Port of Loading</mat-label>
                                                    <input matInput formControlName="loadingPortId"
                                                        [matAutocomplete]="autoloading" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autoloading="matAutocomplete"
                                                    [displayWith]="displayLoadingportLabelFn"
                                                    (optionSelected)="loadingportSelectoption($event)">
                                                    <mat-option
                                                        *ngFor="let portofLoadingList of filteredloadingportOptions$ | async"
                                                        [value]="portofLoadingList"
                                                        [disabled]="portofLoadingList.isNotFound">
                                                        {{ portofLoadingList.loadingPortName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Port of Destination</mat-label>
                                                    <input matInput formControlName="destinationPortId"
                                                        [matAutocomplete]="autodestination" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autodestination="matAutocomplete"
                                                    [displayWith]="displaydestportLabelFn"
                                                    (optionSelected)="destportSelectoption($event)">
                                                    <mat-option
                                                        *ngFor="let portofDestinationList of filtereddestportOptions$ | async"
                                                        [value]="portofDestinationList"
                                                        [disabled]="portofDestinationList.isNotFound">
                                                        {{ portofDestinationList.destinationPortIdName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlyroad">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Origin Location</mat-label>
                                                    <input matInput formControlName="originLocationId"
                                                        [matAutocomplete]="autooriginCity" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autooriginCity="matAutocomplete"
                                                    [displayWith]="displayoriginCityLabelFn"
                                                    (optionSelected)="originCitySelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let originCityList of filteredoriginCityOptions$ | async"
                                                        [value]="originCityList" [disabled]="originCityList.isNotFound">
                                                        {{ originCityList.cityName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlyroad">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Destination Location</mat-label>
                                                    <input matInput formControlName="destLocationId"
                                                        [matAutocomplete]="autodestLocation" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autodestLocation="matAutocomplete"
                                                    [displayWith]="displayDestCityLabelFn"
                                                    (optionSelected)="destCitySelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let DestCityList of filteredDestCityOptions$ | async"
                                                        [value]="DestCityList" [disabled]="DestCityList.isNotFound">
                                                        {{ DestCityList.cityName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlyroad">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Trailer Type</mat-label>
                                                    <input matInput formControlName="trailerTypeId"
                                                        [matAutocomplete]="autodtrailerType" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autodtrailerType="matAutocomplete"
                                                    [displayWith]="displayTrailerLabelFn"
                                                    (optionSelected)="TrailerSelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let TrailerType of filteredTrailerOptions$ | async"
                                                        [value]="TrailerType" [disabled]="TrailerType.isNotFound">
                                                        {{ TrailerType.trailerTypeName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlyroad">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Transport Type</mat-label>
                                                    <input matInput formControlName="transportTypeId"
                                                        [matAutocomplete]="automodeofTransport"
                                                        [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #automodeofTransport="matAutocomplete"
                                                    [displayWith]="displayTransportLabelFn"
                                                    (optionSelected)="TransportSelectedoption($event)">
                                                    <mat-option
                                                        *ngFor="let transportList of filteredTransportOptions$ | async"
                                                        [value]="transportList" [disabled]="transportList.isNotFound">
                                                        {{ transportList.transportType }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlyroad">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Pick up Location</mat-label>
                                                    <input matInput type="text" formControlName="pickUpLocation"
                                                        maxlength="100" placeholder="Pick up Location"
                                                        [readonly]="disablefields" autocomplete="off">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlyroad">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Final Place of Delivery</mat-label>
                                                    <input matInput type="text" formControlName="deliveryPlace"
                                                        maxlength="100" placeholder="Final Place of Delivery"
                                                        [readonly]="disablefields" autocomplete="off">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlysea">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Shipment Type</mat-label>
                                                    <input matInput formControlName="shipmentTypeId"
                                                        [matAutocomplete]="autoshipmentType" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-error *ngIf="
                                                    Quotation.controls['shipmentTypeId'].touched &&
                                                    Quotation.hasError('required', 'shipmentTypeId')
                                " class="text-danger">Shipment Type is required*</mat-error>
                                                </mat-form-field>
                                                <mat-autocomplete #autoshipmentType="matAutocomplete"
                                                    [displayWith]="displayshipmentLabelFn"
                                                    (optionSelected)="shipmentSelectoption($event)">
                                                    <mat-option
                                                        *ngFor="let shipmentList of filteredshipmentOptions$ | async"
                                                        [value]="shipmentList" [disabled]="shipmentList.isNotFound">
                                                        {{ shipmentList.shipmentType }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="ShowOnlysea">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Container Type</mat-label>
                                                    <input matInput formControlName="containerTypeId"
                                                        [matAutocomplete]="autocontainerType"
                                                        [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autocontainerType="matAutocomplete"
                                                    [displayWith]="displayContainerLabelFn"
                                                    (optionSelected)="containerSelectoption($event)">
                                                    <mat-option
                                                        *ngFor="let containerList of filteredContainerOptions$ | async"
                                                        [value]="containerList" [disabled]="containerList.isNotFound">
                                                        {{ containerList.containerTypeName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <!-- <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Status</mat-label>
                                                    <input matInput formControlName="statusId"
                                                        [matAutocomplete]="autorfqStatus" required>
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                    <mat-error
                                                        *ngIf="!purchaseQuoteForm.controls['statusId'].value">Status is
                                                        required*</mat-error>
                                                </mat-form-field>
                                                <mat-autocomplete #autorfqStatus="matAutocomplete"
                                                    [displayWith]="displayrfqLabelFn"
                                                    (optionSelected)="rfqSelectoption($event)">
                                                    <mat-option
                                                        *ngFor="let rfqStatusList of filteredrfqOptions$ | async"
                                                        [value]="rfqStatusList" [disabled]="rfqStatusList.isNotFound"
                                                        [disabled]="isOptionDisabled(rfqStatusList)">
                                                        {{ rfqStatusList.rfqStatus }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div> -->
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Temperature Required</mat-label>
                                                    <input matInput type="text" maxlength="20"
                                                        formControlName="temperatureReq" [readonly]="disablefields"
                                                        placeholder="Temperature Required" autocomplete="off">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-6">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Transist Time</mat-label>
                                                    <textarea matInput maxlength="500" placeholder=""
                                                        [readonly]="disablefields"
                                                        formControlName="transitTime"></textarea>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-6">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Routing</mat-label>
                                                    <textarea matInput maxlength="500" placeholder=""
                                                        [readonly]="disablefields" formControlName="routing"></textarea>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-md-4" *ngIf="enableforwarehouse">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">UOM for Storage</mat-label>
                                                    <input matInput formControlName="storageUomId"
                                                        [matAutocomplete]="autostorageUom" [readonly]="disablefields">
                                                    <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                </mat-form-field>
                                                <mat-autocomplete #autostorageUom="matAutocomplete"
                                                    [displayWith]="displayUOMLabelFn"
                                                    (optionSelected)="uomSelectoption($event)">
                                                    <mat-option *ngFor="let uomList of filteredUOMOptions$ | async"
                                                        [value]="uomList" [disabled]="uomList.isNotFound">
                                                        {{ uomList.uomName }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                            <div class="col-md-4" *ngIf="enableforwarehouse">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Storage Value</mat-label>
                                                    <input matInput (input)="valuePerUom($event)"
                                                        [readonly]="disablefields" formControlName="storageValue"
                                                        placeholder="Storage Value" autocomplete="off">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-4">
                                                <mat-form-field appearance="fill">
                                                    <mat-label class="labelcolor">Number of Packages</mat-label>
                                                    <input matInput (input)="packageNos($event)"
                                                        [readonly]="disablefields" formControlName="packageNos"
                                                        placeholder="Number of Packages" autocomplete="off">
                                                </mat-form-field>
                                            </div>
                                            <div class="text-end">
                                                <button class="btn btn-primary" [hidden]="disablefields" type="button"
                                                    (click)="addPackage()">
                                                    <i class="fa fa-plus-circle me-2"></i>Add
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="table">
                            <div class="border border-1 rounded-4">
                                <table
                                    class="table table-sm align-middle mb-0 bg-white table-bordered table-hover table-fixed">
                                    <thead class="bg-light">
                                        <tr>
                                            <th class="center-header">S.No</th>
                                            <th class="center-header">Type of Packages</th>
                                            <th class="center-header">Commodity</th>

                                            <th class="center-header">Height(in Cm)</th>
                                            <th class="center-header">Length(in Cm)</th>
                                            <th class="center-header">Breadth(in Cm)</th>
                                            <th class="center-header">CBM</th>
                                            <th class="center-header">Package Weight(kg)</th>
                                            <th class="center-header" [hidden]="chargablepackage"> Chargeable Package
                                                Weight(kg)
                                            </th>
                                            <th class="center-header">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let row of QPackage; let i = index">
                                            <td class="center-align">
                                                {{ i+1 }}
                                            </td>
                                            <td class="center-align">
                                                {{row.packageTypeName}}
                                            </td>
                                            <td class="center-align">
                                                {{row.commodityName}}
                                            </td>
                                            <td class="center-align">
                                                {{row.height | number:'1.2-2'}}
                                            </td>
                                            <td class="center-align">
                                                {{row.length | number:'1.2-2'}}
                                            </td>
                                            <td class="center-align">
                                                {{row.breadth | number:'1.2-2'}}
                                            </td>
                                            <td class="center-align">
                                                {{row.cbm | number:'1.2-2'}}
                                            </td>
                                            <td class="center-align">
                                                {{row.packWeightKg | number:'1.2-2'}}
                                            </td>
                                            <td class="center-align" [hidden]="chargablepackage">
                                                {{row.chargePackWtKg | number:'1.2-2'}}
                                            </td>
                                            <td class="center-align">
                                                <a type="button" class="view" (click)="View(row,i)"><i
                                                        class="fas fa-eye"></i></a>&nbsp;
                                                <a type="button" class="edit" [hidden]="disablefields"
                                                    (click)="Edit(row,i)"><i class="fas fa-square-pen"></i></a>&nbsp;
                                                <a type="button" class="delete" (click)="DeletepacKage(row,i)"
                                                    [hidden]="disablefields"><i class="fas fa-trash"></i></a>&nbsp;

                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td class="center-align"><b>Total</b></td>
                                            <td class="center-align"><b>{{ getTotalCrossWeight() }}</b></td>
                                            <td class="center-align" [hidden]="chargablepackage"><b>{{
                                                    getTotalChargeableWeight()
                                                    }}</b></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <i class="fa-solid fa-sitemap fa-lg"></i>&nbsp;
                            Line Item
                        </ng-template>

                        <hr class="mt-0 mb-4" />

                        <section class="custom-table-wrapper">
                            <div class="text-end">
                                <button class="btn btn-primary Addbtn my-2" type="button" [hidden]="disablefields"
                                    (click)="AddLineItem()">
                                    <i class="fa fa-plus-circle me-2"></i>Add
                                </button>
                            </div>

                            <kendo-grid [kendoGridBinding]="LineItems" [filterable]="true" [resizable]="true"
                                [height]="500" [pageSize]="20" [sortable]="true" [pageable]="true"
                                [selectable]="{ enabled: true }" (pageChange)="pageChange($event)" [skip]="skip">
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="lineItemName"
                                    title="LineItem Name" [width]="105">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.lineItemName}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="lineItemCode"
                                    title="LineItem Code" [width]="105">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.lineItemCode}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="lineItemCategoryName"
                                    title="LineItem CategoryName" [width]="105">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.lineItemCategoryName }}
                                    </ng-template>
                                </kendo-grid-column>

                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="countryName"
                                    title="Service Country" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.countryName}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'center' }" [headerStyle]="{
                                        justifyContent: 'center'
                                      }" field="isVendor" title="Service By" [width]="100">
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                        <span *ngIf="dataItem.isVendor; else aamro">Vendor</span>
                                        <ng-template #aamro>Aamro</ng-template>
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="vendorName" title="vendorName"
                                    [width]="70">

                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        <!-- <mat-checkbox class="statusmargin" [disabled]="true"   [(ngModel)]="dataItem.isVendor" ></mat-checkbox> -->
                                        {{dataItem.vendorName}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="source" title="Source"
                                    [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.sourceFrom}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="refNumber"
                                    title="Reference Number" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.refNumber}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="currencyName"
                                    title="Currency Name" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.currencyName}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="calculationParameter"
                                    title="Calculation Paramenter" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.calculationParameter}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="calculationType"
                                    title="Calculation Type" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.calculationType}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="valueInCustomerCurrency"
                                    title="ValueIn Customer Currency" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.valueInCustomerCurrency}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="minValueInCustomerCurrency"
                                    title="Minimum Value In CustomerCurrency" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.minValueInCustomerCurrency}}
                                    </ng-template>
                                </kendo-grid-column>
                                <!-- <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                        [headerStyle]="{ justifyContent: 'center' }" field="minValueInCustomerCurrency" title="Minimum Value In CustomerCurrency"
                         [width]="70">
                        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                            {{dataItem.minValueInCustomerCurrency}}
                        </ng-template>
                    </kendo-grid-column>    -->
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="taxCodeName" title="Tax Name"
                                    [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.taxCodeName}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="taxPercentag"
                                    title="Tax Percentage" [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.taxPercentage}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="remarks" title="Remarks"
                                    [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                        {{dataItem.remarks}}
                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                    [headerStyle]="{ justifyContent: 'center' }" field="remarks" title="Vendor Value"
                                    [width]="70">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-rowIndex="rowIndex">
                                        <div readonly="dataItem.isVendor">
                                            <a type="button" class="view" (click)="Onvendorvalue(dataItem,rowIndex)"
                                                [ngClass]="{ 'disabled-link': dataItem.sourceFromId == 3 || dataItem.isVendor !=true }"><i
                                                    class="fas fa-user"></i></a>&nbsp;
                                        </div>

                                    </ng-template>
                                </kendo-grid-column>
                                <kendo-grid-column [style]="{ 'text-align': 'center' }" [headerStyle]="{
            justifyContent: 'center',
            
          }" title="Action" media="(min-width: 450px)" [width]="80" [sticky]="true">
                                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-rowIndex="rowIndex">
                                        <a type="button" class="view" (click)="onview(dataItem,rowIndex)"><i
                                                class="fas fa-eye"></i></a>&nbsp;
                                        <a type="button" class="edit" [hidden]="disablefields"
                                            (click)="onEdit(dataItem,rowIndex)"><i
                                                class="fas fa-square-pen"></i></a>&nbsp;
                                        <a type="button" class="delete" [hidden]="disablefields"
                                            (click)="onDelete(dataItem,rowIndex)"><i
                                                class="fas fa-trash "></i></a>&nbsp;
                                    </ng-template>
                                </kendo-grid-column>
                            </kendo-grid>
                        </section>
                    </mat-tab>
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <i class="fas fa-award"></i>
                            Terms & Conditions
                        </ng-template>
                        <quill-editor [format]="'json'" [formControl]="content" placeholder="Terms & Conditions..."
                            style="width: 100%;height: 70vh;"></quill-editor>
                    </mat-tab>


                    <mat-tab>
                        <ng-template mat-tab-label>
                            <i class="fas fa-paperclip"></i>
                            Attachments
                        </ng-template>
                        <div class="table-list-display">
                            <div class="component-list">
                                <section class="custom-table-wrapper">
                                    <div class="addbutton d-flex align-items-center justify-content-end">
                                        <button class="btn btn-primary d-flex align-items-center my-2"
                                            [hidden]="disablefields" [disabled]="isEditDocument" type="button" (click)="AddDocument()"><i
                                                class="fa fa-plus-circle me-2"></i>Add</button>
                                    </div>
                                    <kendo-grid [kendoGridBinding]="qdocument" [filterable]="true" [resizable]="true"
                                        [height]="500" [pageSize]="20" [sortable]="true" [pageable]="true"
                                        [formGroup]="QDoc" (pageChange)="pageChange($event)" [skip]="skip">

                                        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                            [headerStyle]="{ justifyContent: 'center' }" field="documentName"
                                            title="Document Name *"  [width]="95">

                                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                                <div *ngIf="dataItem.Isedit">
                                                    <mat-form-field>
                                                        <input matInput [readonly]="disablefields || isEditDocument"
                                                            formControlName="documentId"
                                                            [matAutocomplete]="documentId" />
                                                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                                        <mat-autocomplete #documentId="matAutocomplete" [disabled]="isEditDocument"
                                                            (optionSelected)="optionSelecteddocumentId($event)">
                                                            <mat-option *ngFor="let FoU of filtereddocumentId | async"
                                                                [value]="FoU.documentName">
                                                                {{FoU.documentName}}
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <mat-error *ngIf="
                                                        QDoc.controls['documentId'].touched &&
                                                        QDoc.hasError('required', 'documentId')
                                                              " class="text-danger">Document name is
                                                            required*</mat-error>
                                                    </mat-form-field>
                                                </div>

                                                <div *ngIf="!dataItem.Isedit">
                                                    {{getSelectedDoc(dataItem.documentId)}}
                                                </div>
                                            </ng-template>
                                        </kendo-grid-column>

                                        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                            [headerStyle]="{ justifyContent: 'center' }" field=""
                                            title="File *" [width]="95">
                                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                                <div *ngIf="dataItem.Isedit">
                                                    <input type="file" formControlName="documentName"
                                                        [readonly]="disablefields" (change)="selectFile($event)"
                                                        [multiple]="true" class="form-control" width="50%" />
                                                </div>
                                                <div *ngIf="!dataItem.Isedit">
                                                    {{ dataItem.documentName }}
                                                </div>
                                            </ng-template>
                                        </kendo-grid-column>

                                        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                            [headerStyle]="{ justifyContent: 'center' }" field="remarks" title="Remarks"
                                            [width]="150">
                                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                                <div *ngIf="dataItem.Isedit">
                                                    <mat-form-field>
                                                        <textarea matInput type="text" [readonly]="disablefields"
                                                            formControlName="remarks" maxlength="500"
                                                            placeholder="Remarks"></textarea>

                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="!dataItem.Isedit">
                                                    {{dataItem.remarks}}
                                                </div>

                                            </ng-template>
                                        </kendo-grid-column>

                                        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                            [headerStyle]="{ justifyContent: 'center' }" title="Action"
                                            [style]="{ 'text-align': 'center' }" [width]="70" [sticky]="true">
                                            <ng-template kendoGridCellTemplate let-dataItem="dataItem"
                                                let-rowIndex="rowIndex">
                                                <div *ngIf="dataItem.Isedit">
                                                    <a type="submit"
                                                        (click)="showAddRowDoc ? addDocumentRow():Downloads()">
                                                        <ng-container *ngIf="showAddRowDoc; else editIcon">
                                                            <i class="fas fa-sd-card"></i>
                                                        </ng-container>
                                                        <ng-template #editIcon>

                                                        </ng-template></a>&nbsp;
                                                        <a type="submit" (click)="showAddRowDoc" #cancelButton tabindex="0" (click)="oncancelDoc(dataItem, rowIndex)"><i
                                                            class="fas fa-xmark"></i></a>
                                                </div>
                                                <div *ngIf="!dataItem.Isedit">
                                                    <a type="submit" (click)="show(dataItem.documentName)"
                                                        target="_blank"><i class="fas fa-eye"></i></a>&nbsp;
                                                    <a type="submit" (click)="DeleteImage(dataItem.documentId,rowIndex)"
                                                        [hidden]="disablefields"><i class="fas fa-trash"></i></a>&nbsp;
                                                    <a type="button" *ngIf="!dataItem.documentName" (click)="EditDoc(dataItem, rowIndex)"><i
                                                        class="fas fa-square-pen"></i></a>&nbsp;
                                                </div>
                                            </ng-template>
                                        </kendo-grid-column>

                                        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }"
                                            [style]="{ 'text-align': 'center' }" [hidden]="disablefields"
                                            [headerStyle]="{ justifyContent: 'center' }" title="ACT" [width]="40"
                                            [sticky]="true">
                                            <ng-template kendoGridCellTemplate let-dataItem="dataItem"
                                                let-rowIndex="rowIndex">
                                                <a type="submit" (click)="Download(dataItem.documentName)"><i
                                                        class="fas fa-cloud-arrow-down"></i></a>
                                            </ng-template>
                                        </kendo-grid-column>
                                    </kendo-grid>
                                </section>
                            </div>
                        </div>

                    </mat-tab>
                </mat-tab-group>
            </div>
        </mat-card>
    </div>
</div>
<div class="m-4 mb-5 d-flex justify-content-end" style="bottom: 115px">
    <button class="btn btn-warning draftbtn me-1" type="submit" [hidden]="disablefields"
        *ngIf="selectedQuoteStatusId ==1" (click)="SaveQuotation(1)"><i class="fa fa-clock"></i> Draft</button>

    <button *ngIf="!this.quotationID" class="btn btn-primary savebtn me-1" type="submit" (click)="SaveQuotation(2)"
        [hidden]="disablefields">
        <i class="fa fa-save me-2"></i> Save
    </button>
    <button *ngIf="this.quotationID" class="btn btn-primary savebtn me-1" type="submit" (click)="SaveQuotation(2)"
        [hidden]="disablefields">
        <i class="fa fa-save me-2"></i> Update
    </button>

    <button type="button" class="btn btn-danger resetbtn" (click)="Reset()" [hidden]="disablefields">
        <i class="fa fa-times-circle"></i> Reset
    </button>
</div>
<ng-template let-data #ImagePreview>
    <div class="d-flex justify-content-between">
        <h2 mat-dialog-title> Preview </h2>
        <mat-icon class="m-2" mat-dialog-close style="color: red;cursor: pointer;">close</mat-icon>
    </div>
    <img src="{{data}}" alt="" style="max-width: 700px;">
</ng-template>