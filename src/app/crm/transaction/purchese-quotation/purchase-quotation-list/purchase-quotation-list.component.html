<div class="table-list-display">
  <div class="component-list">
    <div class="header-container">
      <h3 class="box-title">
        <img src="./assets/images/billing-storage.png" alt="Purchase Quotation" />
        <span>Purchase Quotation</span>
      </h3>
      <!-- <div class="text-end">
        <button class="btn btn-primary Addbtn"  type="submit" (click)="OpenValidity()">
          <i class="far fa-clock me-2"></i>Expiry
        </button>
        <button class="btn btn-primary Addbtn" *ngIf="pagePrivilege.includes('create')" type="button" (click)="add()">
          <i class="fa fa-plus-circle me-2"></i>Add
        </button>
      </div> -->
      <div class="text-end">
          <button class="btn btn-primary mb-1 mt-1 px-1 py-1" type="submit" (click)="OpenValidity()">
            <i class="far fa-clock me-2"></i>Expiry
          </button> &nbsp; 
          <button class="btn btn-primary mb-1 mt-1 px-1 py-1" *ngIf="pagePrivilege?.includes('create')" type="button"
            (click)="add()">
            <i class="fa fa-plus-circle me-1"></i>Add
          </button>
      </div>
      <hr />
    </div>

    <section class="custom-table-wrapper">
      <kendo-grid [kendoGridBinding]="purchaseQuotation" [filterable]="true" [resizable]="true" [height]="600"
        [pageSize]="10" [sortable]="true" [pageable]="true" [selectable]="{ enabled: true }">
        <kendo-grid-column [style]="{
              'text-align': 'left',
              padding: '5px',
              
            }" [headerStyle]="{
              justifyContent: 'center',
              
            }" field="pqNumber" title="PQ Id" media="(min-width: 450px)" [width]="80">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            {{ dataItem.pqNumber }}
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }" [headerStyle]="{justifyContent: 'center',}"
          field="pqDate" format="{0:dd/MMM/yyyy}" filter="date" title="Date" media="(min-width: 450px)" [width]="80">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            {{ dataItem.pqDate | date:'dd/MMM/yyyy' }}
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }" [headerStyle]="{
          justifyContent: 'center',
          
        }" field="pqAgainst" title="PQ Against" media="(min-width: 450px)" [width]="60">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            {{ dataItem.pqAgainst }}
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }" [headerStyle]="{
            justifyContent: 'center',
          }" field="refNumber" title="Ref Number" media="(min-width: 450px)" [width]="90">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            {{ dataItem.refNumber }}
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }" [headerStyle]="{
          justifyContent: 'center',
        }" field="vendorName" title="Vendor" media="(min-width: 450px)" [width]="100">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            {{ dataItem.vendorName }}
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'left', padding: '5px' }" [headerStyle]="{
            justifyContent: 'center',
          }" field="pqStatus" title="Status" media="(min-width: 450px)" [width]="80">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            {{ dataItem.pqStatus }}
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'center' }" [headerStyle]="{
              justifyContent: 'center',
            }" title="Action" media="(min-width: 450px)" [width]="75" [sticky]="true">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <a type="button" class="view" *ngIf="pagePrivilege.includes('view')" (click)="onview(dataItem)"><i
                class="fas fa-eye"></i></a>&nbsp;
            <a type="button" class="edit" *ngIf="pagePrivilege.includes('edit')" (click)="onEdit(dataItem)"><i
                class="fas fa-square-pen"></i></a>&nbsp;
            <a type="button" class="delete" *ngIf="pagePrivilege.includes('delete')" (click)="onDelete(dataItem)"><i
                class="fas fa-trash"></i></a>&nbsp;
          </ng-template>
        </kendo-grid-column>

        <kendo-grid-column [style]="{ 'text-align': 'center' }" [headerStyle]="{
          justifyContent: 'center',
        }" title="ACT" media="(min-width: 450px)" [width]="50" [sticky]="true">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <a type="submit" class="history" matTooltip="Follow Up History" matTooltipPosition="above"
              (click)="OpenHistory(7,dataItem.purchaseQuoteId,dataItem.statusId)"><i
                class="fas fa-clock-rotate-left"></i></a>&nbsp; 
                <a type="submit" matTooltip="Approval History" matTooltipPosition="above" (click)="approveHistory(dataItem.purchaseQuoteId)"><i class="fa-solid fa-repeat fa-lg"></i></a>&nbsp;
            
          </ng-template>
        </kendo-grid-column>
        <ng-template kendoPagerTemplate>
          <kendo-pager-prev-buttons></kendo-pager-prev-buttons>
          <kendo-pager-numeric-buttons [buttonCount]="buttonCount"></kendo-pager-numeric-buttons>
          <kendo-pager-next-buttons></kendo-pager-next-buttons>

          <kendo-pager-page-sizes class="Page-Short" [pageSizes]="sizes"></kendo-pager-page-sizes>
          <kendo-pager-info></kendo-pager-info>
        </ng-template>
      </kendo-grid>
    </section>
  </div>
</div>